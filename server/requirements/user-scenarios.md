# Пользовательские сценарии

## Вход в систему
- пользователь может войти с учетными данными только одного из 3 заранее определенных пользователей
- если пользователь не авторизован, все URL должны перенаправлять его на страницу Входа
- если пользователь введет неправильную пару логин/пароль, должны отображаться сообщения об ошибке на инпутах
- по кнопке "Войти" стартует API вызов `Auth`
- если API вызов `Auth` завершился с ошибкой, пользователь должен увидеть сообщение об ошибке
- после успешной авторизации пользователь должен быть автоматически перенаправлен на страницу Списка Запросов

## Страница списка запросов
### Список запросов
- список Запросов загружается с API при монтировании страницы (вызов API `LoadRequests`)
- все Запросы загружаются в одном вызове API
- если вызов `LoadRequests` завершился с ошибкой, пользователь должен увидеть экран Ошибки для Списка Запросов
- пользователь может видеть Запросы в виде списка, сетки и на карте
- пользователь должен видеть количество Запросов в списке в блоке "Найдено" (с учетом фильтров и поиска)
- пользователь должен иметь возможность открывать список Запросов постранично (Пагинация) в режиме Списка и Сетки
- \* пользователь должен иметь возможность прокручивать запросы без пагинации с достаточно высокой производительностью рендеринга
- \** (ЕСЛИ предыдущее выполнено) пользователь должен видеть текущую страницу (на панели Пагинации) во время прокрутки. Сама панель пагинации в режиме readonly.
- \*** (ЕСЛИ предыдущее выполнено) пользователь должен использовать как Пагинацию, так и прокрутку. При нажатии на номер страницы на панели пагинации список прокручивается к первому элементу выбранной страницы пагинации

### Фильтры
- по умолчанию все фильтры не установлены
- пользователь может установить фильтр, нажав на чекбокс или лейбл
- если пользователь установил фильтр, чекбокс должен быть установлен
- если пользователь нажимает на чекнутый чекбокс или его лейбл, фильтр скидывается
- если пользователь изменяет состояние фильтра (установить или снять), оно применяется к Списку Запросов немедленно
- если в отфильтрованном списке нет Запросов, пользователь должен увидеть экран Пустого Списка
- если пользователь не установил ни одного фильтра, кнопка "Сбросить" отключена
- если пользователь нажимает "Сбросить", все установленные фильтры снимаются, изменения немедленно применяются к Списку Запросов

### Поиск
- по умолчанию строка поиска пустая, отображается плейсхолдер
- по вводу текста Список Задач фильтруется по принципу "Поисковая строка включена в название Запроса или Организации"
- остальные фильтры сохраняются
- отфильтрованный Список Запросов пагинируется по принципу, указанному в секции "Список Запросов"

### Карточка запроса
- картинка карточки зависит от параметров `requesterType` и `helpType`, подробности в дизайне, в категории `UI Elements`;
- при нажатии на неподсвеченную кнопку-звездочку Избранного запускается вызов API `AddToFavourites` для добавления запроса в избранное
- если вызов API `AddToFavourites` завершился с ошибкой, пользователь должен увидеть сообщение об ошибке
- если вызов API `AddToFavourites` завершился успешно, пользователь должен увидеть сообщение "Успех! Добавлено в избранное"
- звездочка должна быть подсвечена для всех Запросов, которые входят в Избранное пользователя
- при нажатии на подсвеченную кнопку-звездочку Избранного запускается вызов API `RemoveFromFavourites` для удаления запроса из избранного
- если вызов API `RemoveFromFavourites` завершился с ошибкой, пользователь должен увидеть сообщение об ошибке
- при нажатии на кнопку "Помочь" в Карточке Запроса запускается вызов API `ContributeToRequest`
- если вызов API `ContributeToRequest` завершился с ошибкой, пользователь должен увидеть сообщение об ошибке
- если вызов API `ContributeToRequest` завершился успешно, пользователь должен увидеть сообщение "Успех! Спасибо за помощь"
- при нажатии на любую другую область Карточки Запроса пользователь должен быть автоматически перенаправлен на страницу Запроса
- \* Реализован Hover View для карточки запроса (UP TO YOU)
- \** Все действия могут быть выполнены как с помощью мыши, так и с помощью клавиатуры

## Страница Запроса
- Запрос загружается с API при монтировании страницы (вызов API `LoadRequestDetails`)
- если вызов API `LoadRequestDetails` завершился с ошибкой, пользователь должен увидеть экран Ошибки для Запроса
- если вызов API `LoadRequestDetails` завершился успешно, пользователь должен увидеть видеть всю детализированную информацию о Запросе
- пользователь может видеть значок "Проверено" для проверенной организации
- пользователь может видеть текущее состояние Плана действий Запроса
- пользователь может добавить запрос в Избранное (должно работать так же, как в Карточке Запроса)
- пользователь может помочь Запросу (должно работать так же, как в Карточке Запроса)

## Меню профиля в шапке
- меню должно содержать два пункта - "Мой профиль" и "Выйти"
- при нажатии на "Выйти" сессия пользователя должна быть немедленно аннулирована, и пользователь должен быть перенаправлен на страницу Входа
- при нажатии на "Мой профиль" пользователь должен быть перенаправлен на страницу Профиля
- при нажатии в любое другое место за пределами меню, меню должно закрыться

## Страница Профиля
- пользователь по умолчанию при открытии страницы видит вкладку "Личные данные"
- данные для вкладок "Личные данные" и "Контакты" загружаются API вызовом `LoadUserInfo`
- загружать эти данные при открытии страницы или на бэкграунде - UP TO YOU
- при открытии вкладки "Избранное" загружаются запросы, добавленные пользователем в Избранное на Списке Запросов
- запросы загружаются API вызовом `LoadUserFavorites`
- если вызов API `LoadUserFavorites` завершился с ошибкой, пользователь должен увидеть Ошибки для Списка Запросов
- если вызов API `LoadUserFavorites` завершился успешно, пользователь должен увидеть список Запросов, добавленных в избранное
- если у пользователя нет ни одной задачи, добавленной в избранное, то пользователь должен увидеть экран Пустого Списка
- все остальное поведение, отображение Списка Запросов добавленных в Избранное и его карточек аналогично секции Страница Списка Запросов
- по нажатию на кнопку "Выйти из аккаунта" происходит действие аналогичное нажатию на пункт "Выйти" Меню профиля в шапке (смотри секцию Меню профиля в шапке)
